<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">Extensions | Axis</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://Sleitnick.github.io/Axis/docs/extensions"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Extensions | Axis"><meta data-react-helmet="true" name="description" content="Extensions allow the capabilities of providers to be expanded. By tying into the lifecycle methods of all providers, extensions let developers build upon what providers can do to whatever best fits the given use-cases. For example, an extension could be created to add networking so that communication between providers could exist between the server and client."><meta data-react-helmet="true" property="og:description" content="Extensions allow the capabilities of providers to be expanded. By tying into the lifecycle methods of all providers, extensions let developers build upon what providers can do to whatever best fits the given use-cases. For example, an extension could be created to add networking so that communication between providers could exist between the server and client."><link data-react-helmet="true" rel="shortcut icon" href="/Axis/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://Sleitnick.github.io/Axis/docs/extensions"><link data-react-helmet="true" rel="alternate" href="https://Sleitnick.github.io/Axis/docs/extensions" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://Sleitnick.github.io/Axis/docs/extensions" hreflang="x-default"><link rel="stylesheet" href="/Axis/assets/css/styles.fb20d3d5.css">
<link rel="preload" href="/Axis/assets/js/runtime~main.3af2b901.js" as="script">
<link rel="preload" href="/Axis/assets/js/main.f73f5d17.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Axis/"><b class="navbar__title">Axis</b></a><a class="navbar__item navbar__link navbar__link--active" href="/Axis/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/Axis/api/">API</a><a class="navbar__item navbar__link" href="/Axis/changelog">Changelog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Sleitnick/Axis" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Press S to Search..." aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Axis/docs/intro">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Axis/docs/providers">Providers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Axis/docs/extensions">Extensions</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Extensions</h1></header><p>Extensions allow the capabilities of providers to be expanded. By tying into the lifecycle methods of all providers, extensions let developers build upon what providers can do to whatever best fits the given use-cases. For example, an extension could be created to add networking so that communication between providers could exist between the server and client.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="making-an-extension">Making an Extension<a aria-hidden="true" class="hash-link" href="#making-an-extension" title="Direct link to heading">â€‹</a></h2><p>Extensions are easy to make and run in the context of each provider. At the core, extensions are simply a collection of functions that run before the lifecycle methods of providers. Extensions should be generic (in the sense that they don&#x27;t care about what the provider does).</p><p>A bare-bones extension looks like the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lua"><pre tabindex="0" class="prism-code language-lua codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">local SomeExtension = {}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- Runs directly before AxisPrepare is called on the provider</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">function SomeExtension.BeforePrepare(provider)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- Runs directly before AxisStarted is called on the provider</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">function SomeExtension.BeforeStarted(provider)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">end</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The extension functions can then do whatever is necessary to the given <code>provider</code>.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="extension-levels">Extension Levels<a aria-hidden="true" class="hash-link" href="#extension-levels" title="Direct link to heading">â€‹</a></h2><p>Extensions can be added at two separate levels.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="axis-level-extensions">Axis-level Extensions<a aria-hidden="true" class="hash-link" href="#axis-level-extensions" title="Direct link to heading">â€‹</a></h3><p>Adding extensions at the Axis-level allows extensions to be applied to all providers in Axis.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lua"><pre tabindex="0" class="prism-code language-lua codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Axis:AddExtension(SomeExtension)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="provider-level-extensions">Provider-level Extensions<a aria-hidden="true" class="hash-link" href="#provider-level-extensions" title="Direct link to heading">â€‹</a></h3><p>To apply an extension to an individual provider, an extension can be explicitly added to the provider. This is done by listing the extensions in the provider&#x27;s <code>AxisExtension</code> table:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lua"><pre tabindex="0" class="prism-code language-lua codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">local MyProvider = {}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MyProvider.AxisExtensions = {SomeExtension01, SomeExtension02, ...}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="execution-order">Execution Order<a aria-hidden="true" class="hash-link" href="#execution-order" title="Direct link to heading">â€‹</a></h2><p>Extensions run in the order that they were added. Before a provider lifecycle method is run, all Axis-level extensions (i.e. added with <code>Axis:AddExtension</code>) are run. Directly after, all provider-level extensions are run. All extensions are run in series, each one waiting for the previous one to complete. The provider&#x27;s lifecycle method will not run until all extensions are executed successfully.</p><p>For example, consider the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lua"><pre tabindex="0" class="prism-code language-lua codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">local MyProvider = {}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MyProvider.AxisExtensions = {Extension01, Extension02}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Axis:AddExtension(Extension03)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Axis:AddExtension(Extension04)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Axis:Start()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- Extensions above will execute in the following order for MyProvider:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- 1. Extension03</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- 2. Extension04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- 3. Extension01</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- 4. Extension02</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="examples">Examples<a aria-hidden="true" class="hash-link" href="#examples" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="logging">Logging<a aria-hidden="true" class="hash-link" href="#logging" title="Direct link to heading">â€‹</a></h3><p>While <code>AxisName</code> is optional for providers, here&#x27;s a simple extension that tries to log out when a provider starts up.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lua"><pre tabindex="0" class="prism-code language-lua codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">local LogExtension = {}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">function LogExtension.BeforePrepare(provider)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    print(&quot;Provider BeforePrepare&quot;, provider.AxisName)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">function LogExtension.BeforeStarted(provider)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    print(&quot;Provider BeforeStarted&quot;, provider.AxisName)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">end</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="player-injection">Player Injection<a aria-hidden="true" class="hash-link" href="#player-injection" title="Direct link to heading">â€‹</a></h3><p>Injecting the local player into a provider isn&#x27;t really that useful, but provides an example of property injection to providers. In this example, the extension will set the provider&#x27;s <code>Player</code> property to the LocalPlayer (if it&#x27;s on the client):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly lua"><pre tabindex="0" class="prism-code language-lua codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">local Players = game:GetService(&quot;Players&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">local RunService = game:GetService(&quot;RunService&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">local PlayerInjectionExtension = {}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">function PlayerInjectionExtension.BeforePrepare(provider)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if RunService:IsClient() then</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        provider.Player = Players.LocalPlayer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">end</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Sleitnick/Axis/edit/master/docs/extensions.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Axis/docs/providers"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Providers</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#making-an-extension" class="table-of-contents__link toc-highlight">Making an Extension</a></li><li><a href="#extension-levels" class="table-of-contents__link toc-highlight">Extension Levels</a><ul><li><a href="#axis-level-extensions" class="table-of-contents__link toc-highlight">Axis-level Extensions</a></li><li><a href="#provider-level-extensions" class="table-of-contents__link toc-highlight">Provider-level Extensions</a></li></ul></li><li><a href="#execution-order" class="table-of-contents__link toc-highlight">Execution Order</a></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a><ul><li><a href="#logging" class="table-of-contents__link toc-highlight">Logging</a></li><li><a href="#player-injection" class="table-of-contents__link toc-highlight">Player Injection</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Sleitnick. Built with Moonwave and Docusaurus.</div></div></div></footer></div>
<script src="/Axis/assets/js/runtime~main.3af2b901.js"></script>
<script src="/Axis/assets/js/main.f73f5d17.js"></script>
</body>
</html>